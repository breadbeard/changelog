#!/usr/bin/env ruby

require 'optparse'
require 'methadone'
require 'changelog'

include Methadone::Main

main do |release|

  Changelog.repo_path = File.expand_path(options[:repo])

	rls = Changelog::Release.new(release)
	rls.listings.each do |listing|
		puts listing
	end
end

options[:repo] = ".git"

description "Generate markdown formatted changelog from your git revision tags"

on("-r REPO","--repo","Path to your git repository")

arg :release, :required
arg :repo, :optional

version Changelog::VERSION

go!
